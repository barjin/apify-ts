<!doctype html>
<html class="docs-version-2.0.6" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="Apify SDK" href="/apify-ts/opensearch.xml">
<script src="/apify-ts/js/custom.js"></script><title data-react-helmet="true">Running in Docker | Apify SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-react-helmet="true" name="twitter:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-react-helmet="true" property="og:url" content="https://apify.github.io/apify-ts/docs/guides/docker-images"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="2.0.6"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-2.0.6"><meta data-react-helmet="true" property="og:title" content="Running in Docker | Apify SDK"><meta data-react-helmet="true" name="description" content="Running headless browsers in Docker requires a lot of setup to do it right. But you don&#x27;t need to worry about that, because we already did it for you and created base images that you can freely use. We use them every day on the Apify Platform."><meta data-react-helmet="true" property="og:description" content="Running headless browsers in Docker requires a lot of setup to do it right. But you don&#x27;t need to worry about that, because we already did it for you and created base images that you can freely use. We use them every day on the Apify Platform."><link data-react-helmet="true" rel="icon" href="/apify-ts/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://apify.github.io/apify-ts/docs/guides/docker-images"><link data-react-helmet="true" rel="alternate" href="https://apify.github.io/apify-ts/docs/guides/docker-images" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apify.github.io/apify-ts/docs/guides/docker-images" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/apify-ts/assets/css/styles.eadd290e.css">
<link rel="preload" href="/apify-ts/assets/js/runtime~main.28466aa8.js" as="script">
<link rel="preload" href="/apify-ts/assets/js/main.0e1a6656.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/apify-ts/"><div class="navbar__logo"><img src="/apify-ts/img/apify_sdk.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/apify-ts/img/apify_sdk_white.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Apify SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/apify-ts/docs/">Guide</a><a class="navbar__item navbar__link" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a><a class="navbar__item navbar__link" href="/apify-ts/api">API reference</a><a href="https://github.com/apify/apify-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link changelog"><span>Changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/apify-ts/docs/">2.0.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/apify-ts/docs/next/guides/docker-images">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/apify-ts/docs/guides/docker-images">2.0.6</a></li></ul></div><a href="https://github.com/apify/apify-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9" style="background-image:url(./img/switch-dark.svg);color:transparent;width:19px;height:19px;margin:-4.5px 0 0 -5px">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9" style="background-image:url(./img/switch-light.svg);color:transparent;width:19px;height:19px;margin:-4.5px 0 0px -2px">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/apify-ts/"><img src="/apify-ts/img/apify_sdk.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/apify-ts/img/apify_sdk_white.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--dark_uzRr"><b>Apify SDK</b></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/apify-ts/docs/">Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/">Motivation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/apify-platform">Apify Platform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/request-storage">Request Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/result-storage">Result Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/environment-variables">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/proxy-management">Proxy Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/session-management">Session Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/apify-ts/docs/guides/docker-images">Running in Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/guides/migration-to-v1">Migration to version 1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/docs/examples/accept-user-input">Examples</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/docs/api/apify">API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/docs/typedefs/autoscaled-pool-options">Type Definitions</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.0.6</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running in Docker</h1></header><p>Running headless browsers in Docker requires a lot of setup to do it right. But you don&#x27;t need to worry about that, because we already did it for you and created base images that you can freely use. We use them every day on the <a href="/apify-ts/docs/guides/apify-platform">Apify Platform</a>.</p><p>All images can be found in their <a href="https://github.com/apify/apify-actor-docker" target="_blank" rel="noopener">GitHub repo</a> and in our <a href="https://hub.docker.com/orgs/apify" target="_blank" rel="noopener">DockerHub</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">â€‹</a></h2><p>Browsers are pretty big, so we try to provide a wide variety of images to suit your needs. Here&#x27;s a full list of our Docker images.</p><ul><li><a href="#actor-node"><code>apify/actor-node</code></a></li><li><a href="#actor-node-puppeteer-chrome"><code>apify/actor-node-puppeteer-chrome</code></a></li><li><a href="#actor-node-playwright"><code>apify/actor-node-playwright</code></a></li><li><a href="#actor-node-playwright-chrome"><code>apify/actor-node-playwright-chrome</code></a></li><li><a href="#actor-node-playwright-firefox"><code>apify/actor-node-playwright-firefox</code></a></li><li><a href="#actor-node-playwright-webkit"><code>apify/actor-node-playwright-webkit</code></a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="example-dockerfile">Example Dockerfile<a class="hash-link" href="#example-dockerfile" title="Direct link to heading">â€‹</a></h2><p>To use our images, you need a <a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener"><code>Dockerfile</code></a>. You can either use this example, or bootstrap your projects with the <!-- -->[Apify CLI]<!-- -->(/apify-ts/docs/guides/getting-started #creating-a-new-project) which automatically copies the correct Dockerfile into your project folder.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"># First, specify the base Docker image. You can read more about</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the available images at https://sdk.apify.com/docs/guides/docker-images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># You can also use any other image from Docker Hub.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The 16 represents the version of Node.js you want to use.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Second, copy just package.json and package-lock.json since it should be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the only file that affects &quot;npm install&quot; in the next step, to speed up the build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY package*.json ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install NPM packages, skip optional and development dependencies to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># keep the image small. Avoid logging too much and print the dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># tree for debugging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN npm --quiet set progress=false \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; npm install --only=prod --no-optional \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; echo &quot;Installed NPM packages:&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; (npm list || true) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; echo &quot;Node.js version:&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; node --version \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; echo &quot;NPM version:&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; npm --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Next, copy the remaining files and directories with the source code.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Since we do this after NPM install, quick build will be really fast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># for most source file changes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY . ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Optionally, specify how to launch the source code of your actor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># By default, Apify&#x27;s base Docker images define the CMD instruction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># that runs the Node.js source code using the command specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># in the &quot;scripts.start&quot; section of the package.json file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># In short, the instruction looks something like this:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CMD npm start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="versioning">Versioning<a class="hash-link" href="#versioning" title="Direct link to heading">â€‹</a></h2><p>Each image is tagged with up to 2 version tags, depending on the type of the image. One for Node.js version and second for pre-installed web automation library version. If you use the image name without a version tag, you&#x27;ll always get the latest available version.</p><blockquote><p>We recommend always using at least the Node.js version tag in your production Dockerfiles. It will ensure that a future update of Node.js will not break your automations.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="nodejs-versioning">Node.js versioning<a class="hash-link" href="#nodejs-versioning" title="Direct link to heading">â€‹</a></h3><p>Our images are built with multiple Node.js versions to ensure backwards compatibility. Currently, Node.js versions 14, 15 and 16 are supported. To select the preferred version, use the appropriate number as the image tag.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"># Use Node.js 14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Use Node.js 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="automation-library-versioning">Automation library versioning<a class="hash-link" href="#automation-library-versioning" title="Direct link to heading">â€‹</a></h3><p>Images that include a pre-installed automation library, which means all images that include <code>puppeteer</code> or <code>playwright</code> in their name, are also tagged with the pre-installed version of the library. For example, <code>apify/actor-node-puppeteer-chrome:16-8.0.0</code> comes with Node.js 16 and Puppeteer v8.0.0. If you try to install a different version of Puppeteer into this image, you may run into compatibility issues, because the Chromium version bundled with <code>puppeteer</code> will not match the version of Chrome we pre-installed.</p><p>Similarly <code>apify/actor-node-playwright-firefox:14-1.10.0</code> runs on Node.js 14 and is pre-installed with the Firefox version that comes with v1.10.0.</p><p>Installing <code>apify/actor-node-puppeteer-chrome</code> (without a tag) will install the latest available version of Node.js and <code>puppeteer</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="pre-release-tags">Pre-release tags<a class="hash-link" href="#pre-release-tags" title="Direct link to heading">â€‹</a></h3><p>We also build pre-release versions of the images to test the changes we make. Those are typically denoted by a <code>beta</code> suffix, but it can vary depending on our needs. If you need to try a pre-release version, you can do it like this:</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain"># Without library version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:16-beta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># With library version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-chrome:16-1.10.0-beta</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="best-practices">Best practices<a class="hash-link" href="#best-practices" title="Direct link to heading">â€‹</a></h2><ul><li><strong>Always</strong> use Node.js version tag.</li><li>For <strong>added security</strong>, use the automation library version tag.</li><li>Use asterisk <code>*</code> as the automation library version in your <code>package.json</code> files.</li></ul><p>It makes sure the pre-installed version of Puppeteer or Playwright is not reinstalled on build. This is important, because those libraries are only guaranteed to work with specific versions of browsers, and those browsers come pre-installed in the image.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-chrome:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;apify&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;playwright&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="warning-about-image-size">Warning about image size<a class="hash-link" href="#warning-about-image-size" title="Direct link to heading">â€‹</a></h3><p>Browsers are huge. If you don&#x27;t need them all in your image, it&#x27;s better to use a smaller image with only the one browser you need.</p><p>Be careful when installing new dependencies. Nothing prevents you from installing Playwright into the<code>actor-node-puppeteer-chrome</code> image, but the resulting image will be about 3 times larger and extremely slow to download and build.</p><p>Use only what you need, and you&#x27;ll be rewarded with reasonable build and start times.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="actor-node">actor-node<a class="hash-link" href="#actor-node" title="Direct link to heading">â€‹</a></h2><p>This is the smallest image we have based on Alpine Linux. It does not include any browsers, and it&#x27;s therefore
best used with <a href="/apify-ts/docs/api/cheerio-crawler"><code>CheerioCrawler</code></a>. It benefits from lightning fast builds and container startups.</p><p><a href="/apify-ts/docs/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a>, <a href="/apify-ts/docs/api/playwright-crawler"><code>PlaywrightCrawler</code></a>
and other browser based features will <strong>NOT</strong> work with this image.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="actor-node-puppeteer-chrome">actor-node-puppeteer-chrome<a class="hash-link" href="#actor-node-puppeteer-chrome" title="Direct link to heading">â€‹</a></h2><p>This image includes Puppeteer (Chromium) and the Chrome browser. It can be used with
<a href="/apify-ts/docs/api/cheerio-crawler"><code>CheerioCrawler</code></a> and <a href="/apify-ts/docs/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a>, but <strong>NOT</strong> with
<a href="/apify-ts/docs/api/playwright-crawler"><code>PlaywrightCrawler</code></a>.</p><p>The image supports XVFB by default, so you can run both <code>headless</code> and <code>headful</code> browsers with it.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-puppeteer-chrome:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="actor-node-playwright">actor-node-playwright<a class="hash-link" href="#actor-node-playwright" title="Direct link to heading">â€‹</a></h2><p>A very large and slow image that can run all Playwright browsers: Chromium, Chrome, Firefox,
WebKit. Everything is installed. If you need to develop or test with multiple browsers, this is the image to choose,
but in most cases, we suggest using the specialized images below.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="actor-node-playwright-chrome">actor-node-playwright-chrome<a class="hash-link" href="#actor-node-playwright-chrome" title="Direct link to heading">â€‹</a></h2><p>Similar to <a href="#actor-node-puppeteer-chrome"><code>actor-node-puppeteer-chrome</code></a>, but for Playwright. You can run
<a href="/apify-ts/docs/api/cheerio-crawler"><code>CheerioCrawler</code></a> and <a href="/apify-ts/docs/api/playwright-crawler"><code>PlaywrightCrawler</code></a>,
but <strong>NOT</strong> <a href="/apify-ts/docs/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a>.</p><p>It uses the <a href="https://playwright.dev/docs/api/environment-variables/" target="_blank" rel="noopener"><code>PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD</code></a>
environment variable to block installation of more browsers into your images (to keep them small).
If you want more browsers, either choose the <a href="#actor-node-playwright"><code>actor-node-playwright</code></a> image
or override this env var.</p><p>The image supports XVFB by default, so you can run both <code>headless</code> and <code>headful</code> browsers with it.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-chrome:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="actor-node-playwright-firefox">actor-node-playwright-firefox<a class="hash-link" href="#actor-node-playwright-firefox" title="Direct link to heading">â€‹</a></h2><p>Same idea as <a href="#actor-node-playwright-chrome"><code>actor-node-playwright-chrome</code></a>, but with Firefox
pre-installed.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-firefox:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="actor-node-playwright-webkit">actor-node-playwright-webkit<a class="hash-link" href="#actor-node-playwright-webkit" title="Direct link to heading">â€‹</a></h2><p>Same idea as <a href="#actor-node-playwright-chrome"><code>actor-node-playwright-chrome</code></a>, but with WebKit
pre-installed.</p><div class="codeBlockContainer_J+bg language-dockerfile theme-code-block"><div class="codeBlockContent_csEI dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-webkit:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-02-25T15:38:04.000Z">2/25/2022</time></b> by <b>Vlad Frangu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/apify-ts/docs/guides/session-management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Session Management</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/apify-ts/docs/guides/migration-to-v1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migration to version 1</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#example-dockerfile" class="table-of-contents__link toc-highlight">Example Dockerfile</a></li><li><a href="#versioning" class="table-of-contents__link toc-highlight">Versioning</a><ul><li><a href="#nodejs-versioning" class="table-of-contents__link toc-highlight">Node.js versioning</a></li><li><a href="#automation-library-versioning" class="table-of-contents__link toc-highlight">Automation library versioning</a></li><li><a href="#pre-release-tags" class="table-of-contents__link toc-highlight">Pre-release tags</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best practices</a><ul><li><a href="#warning-about-image-size" class="table-of-contents__link toc-highlight">Warning about image size</a></li></ul></li><li><a href="#actor-node" class="table-of-contents__link toc-highlight">actor-node</a></li><li><a href="#actor-node-puppeteer-chrome" class="table-of-contents__link toc-highlight">actor-node-puppeteer-chrome</a></li><li><a href="#actor-node-playwright" class="table-of-contents__link toc-highlight">actor-node-playwright</a></li><li><a href="#actor-node-playwright-chrome" class="table-of-contents__link toc-highlight">actor-node-playwright-chrome</a></li><li><a href="#actor-node-playwright-firefox" class="table-of-contents__link toc-highlight">actor-node-playwright-firefox</a></li><li><a href="#actor-node-playwright-webkit" class="table-of-contents__link toc-highlight">actor-node-playwright-webkit</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/api/apify">API reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/apifytech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://apify.com" target="_blank" class="footer__link-item">
        <span>
            Apify Cloud
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" class="footer__link-item">
        <span>
            Docusaurus
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://github.com/apify/apify-js" target="_blank" class="footer__link-item">
        <span>
            GitHub
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_SRtH" href="/apify-ts/"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo" width="60px" height="60px"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo" width="60px" height="60px"></a></div><div class="footer__copyright">Copyright Â© 2021 Apify Technologies s.r.o.</div></div></div></footer></div>
<script src="/apify-ts/assets/js/runtime~main.28466aa8.js"></script>
<script src="/apify-ts/assets/js/main.0e1a6656.js"></script>
</body>
</html>