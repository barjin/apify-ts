<!doctype html>
<html class="docs-version-2.0.6" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="search" type="application/opensearchdescription+xml" title="Apify SDK" href="/apify-ts/opensearch.xml"><title data-react-helmet="true">RequestQueue | Apify SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-react-helmet="true" name="twitter:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-react-helmet="true" property="og:url" content="https://apify.github.io/apify-ts/docs/api/request-queue"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="2.0.6"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-2.0.6"><meta data-react-helmet="true" property="og:title" content="RequestQueue | Apify SDK"><meta data-react-helmet="true" name="description" content="Represents a queue of URLs to crawl, which is used for deep crawling of websites where you start with several URLs and then recursively follow links"><meta data-react-helmet="true" property="og:description" content="Represents a queue of URLs to crawl, which is used for deep crawling of websites where you start with several URLs and then recursively follow links"><link data-react-helmet="true" rel="shortcut icon" href="/apify-ts/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://apify.github.io/apify-ts/docs/api/request-queue"><link data-react-helmet="true" rel="alternate" href="https://apify.github.io/apify-ts/docs/api/request-queue" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apify.github.io/apify-ts/docs/api/request-queue" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/apify-ts/assets/css/styles.642a2bd1.css">
<link rel="preload" href="/apify-ts/assets/js/runtime~main.7abe1652.js" as="script">
<link rel="preload" href="/apify-ts/assets/js/main.0a673543.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/apify-ts/"><div class="navbar__logo"><img src="/apify-ts/img/apify_logo.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/apify-ts/img/apify_logo.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Apify SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/apify-ts/docs/">Guide</a><a class="navbar__item navbar__link" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a><a class="navbar__item navbar__link" href="/apify-ts/api">API Reference</a><a href="https://github.com/apify/apify-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/apify-ts/docs/">2.0.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/apify-ts/docs/next/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/apify-ts/docs/api/request-queue">2.0.6</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Examples</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/api/apify">Apify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/api/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Crawlers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Result Stores</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Scaling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Sources</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/api/request">Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/api/request-list">RequestList</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/apify-ts/docs/api/request-queue">RequestQueue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/api/pseudo-url">PseudoUrl</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Utilities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Type Definitions</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.0.6</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RequestQueue</h1></header><a name="requestqueue"></a><p>Represents a queue of URLs to crawl, which is used for deep crawling of websites where you start with several URLs and then recursively follow links
to other pages. The data structure supports both breadth-first and depth-first crawling orders.</p><p>Each URL is represented using an instance of the <a href="/apify-ts/docs/api/request"><code>Request</code></a> class. The queue can only contain unique URLs. More precisely, it can
only contain <a href="/apify-ts/docs/api/request"><code>Request</code></a> instances with distinct <code>uniqueKey</code> properties. By default, <code>uniqueKey</code> is generated from the URL, but it can
also be overridden. To add a single URL multiple times to the queue, corresponding <a href="/apify-ts/docs/api/request"><code>Request</code></a> objects will need to have different
<code>uniqueKey</code> properties.</p><p>Do not instantiate this class directly, use the <a href="/apify-ts/docs/api/apify#openrequestqueue"><code>Apify.openRequestQueue()</code></a> function instead.</p><p><code>RequestQueue</code> is used by <a href="/apify-ts/docs/api/basic-crawler"><code>BasicCrawler</code></a>, <a href="/apify-ts/docs/api/cheerio-crawler"><code>CheerioCrawler</code></a>,
<a href="/apify-ts/docs/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a> and <a href="/apify-ts/docs/api/playwright-crawler"><code>PlaywrightCrawler</code></a> as a source of URLs to crawl. Unlike
<a href="/apify-ts/docs/api/request-list"><code>RequestList</code></a>, <code>RequestQueue</code> supports dynamic adding and removing of requests. On the other hand, the queue is not optimized
for operations that add or remove a large number of URLs in a batch.</p><p><code>RequestQueue</code> stores its data either on local disk or in the Apify Cloud, depending on whether the <code>APIFY_LOCAL_STORAGE_DIR</code> or <code>APIFY_TOKEN</code>
environment variable is set.</p><p>If the <code>APIFY_LOCAL_STORAGE_DIR</code> environment variable is set, the queue data is stored in that directory in an SQLite database file.</p><p>If the <code>APIFY_TOKEN</code> environment variable is set but <code>APIFY_LOCAL_STORAGE_DIR</code> is not, the data is stored in the
<a href="https://docs.apify.com/storage/request-queue" target="_blank" rel="noopener">Apify Request Queue</a> cloud storage. Note that you can force usage of the cloud storage also by passing
the <code>forceCloud</code> option to <a href="/apify-ts/docs/api/apify#openrequestqueue"><code>Apify.openRequestQueue()</code></a> function, even if the <code>APIFY_LOCAL_STORAGE_DIR</code> variable is
set.</p><p><strong>Example usage:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#728fcb"><span class="token comment" style="color:#b6ad9a">// Open the default request queue associated with the actor run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> queue </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">openRequestQueue</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">// Open a named request queue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> queueWithName </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">openRequestQueue</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&#x27;some-name&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">// Enqueue few requests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">addRequest</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> url</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;http://example.com/aaa&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">addRequest</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> url</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;http://example.com/bbb&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">addRequest</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> url</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;http://example.com/foo/bar&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> forefront</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><hr><a name="addrequest"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueueaddrequestrequestlike-options"><code>requestQueue.addRequest(requestLike, [options])</code><a aria-hidden="true" class="hash-link" href="#requestqueueaddrequestrequestlike-options" title="Direct link to heading">â€‹</a></h2><p>Adds a request to the queue.</p><p>If a request with the same <code>uniqueKey</code> property is already present in the queue, it will not be updated. You can find out whether this happened from
the resulting <a href="/apify-ts/docs/typedefs/queue-operation-info"><code>QueueOperationInfo</code></a> object.</p><p>To add multiple requests to the queue by extracting links from a webpage, see the <a href="/apify-ts/docs/api/utils#enqueuelinks"><code>utils.enqueueLinks()</code></a> helper function.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>requestLike</code></strong>: <a href="/apify-ts/docs/api/request"><code>Request</code></a> | <a href="/apify-ts/docs/typedefs/request-options"><code>RequestOptions</code></a> - <a href="/apify-ts/docs/api/request"><code>Request</code></a> object or vanilla
object with request data. Note that the function sets the <code>uniqueKey</code> and <code>id</code> fields to the passed Request.</li><li><strong><code>[options]</code></strong>: <code>Object</code><ul><li><strong><code>[forefront]</code></strong>: <code>boolean</code> <code> = false</code> - If <code>true</code>, the request will be added to the foremost position in the queue.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/apify-ts/docs/typedefs/queue-operation-info"><code>Promise&lt;QueueOperationInfo&gt;</code></a></p><hr><a name="getrequest"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuegetrequestid"><code>requestQueue.getRequest(id)</code><a aria-hidden="true" class="hash-link" href="#requestqueuegetrequestid" title="Direct link to heading">â€‹</a></h2><p>Gets the request from the queue specified by ID.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>id</code></strong>: <code>string</code> - ID of the request.</li></ul><p><strong>Returns</strong>:</p><p><a href="/apify-ts/docs/api/request"><code>Promise&lt;(Request|null)&gt;</code></a> - Returns the request object, or <code>null</code> if it was not found.</p><hr><a name="fetchnextrequest"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuefetchnextrequest"><code>requestQueue.fetchNextRequest()</code><a aria-hidden="true" class="hash-link" href="#requestqueuefetchnextrequest" title="Direct link to heading">â€‹</a></h2><p>Returns a next request in the queue to be processed, or <code>null</code> if there are no more pending requests.</p><p>Once you successfully finish processing of the request, you need to call
<a href="/apify-ts/docs/api/request-queue#markrequesthandled"><code>RequestQueue.markRequestHandled()</code></a> to mark the request as handled in the queue. If there was some error in
processing the request, call <a href="/apify-ts/docs/api/request-queue#reclaimrequest"><code>RequestQueue.reclaimRequest()</code></a> instead, so that the queue will give the request
to some other consumer in another call to the <code>fetchNextRequest</code> function.</p><p>Note that the <code>null</code> return value doesn&#x27;t mean the queue processing finished, it means there are currently no pending requests. To check whether all
requests in queue were finished, use <a href="/apify-ts/docs/api/request-queue#isfinished"><code>RequestQueue.isFinished()</code></a> instead.</p><p><strong>Returns</strong>:</p><p><a href="/apify-ts/docs/api/request"><code>Promise&lt;(Request|null)&gt;</code></a> - Returns the request object or <code>null</code> if there are no more pending requests.</p><hr><a name="markrequesthandled"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuemarkrequesthandledrequest"><code>requestQueue.markRequestHandled(request)</code><a aria-hidden="true" class="hash-link" href="#requestqueuemarkrequesthandledrequest" title="Direct link to heading">â€‹</a></h2><p>Marks a request that was previously returned by the <a href="/apify-ts/docs/api/request-queue#fetchnextrequest"><code>RequestQueue.fetchNextRequest()</code></a> function as handled
after successful processing. Handled requests will never again be returned by the <code>fetchNextRequest</code> function.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>request</code></strong>: <a href="/apify-ts/docs/api/request"><code>Request</code></a></li></ul><p><strong>Returns</strong>:</p><p><a href="/apify-ts/docs/typedefs/queue-operation-info"><code>Promise&lt;QueueOperationInfo&gt;</code></a></p><hr><a name="reclaimrequest"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuereclaimrequestrequest-options"><code>requestQueue.reclaimRequest(request, [options])</code><a aria-hidden="true" class="hash-link" href="#requestqueuereclaimrequestrequest-options" title="Direct link to heading">â€‹</a></h2><p>Reclaims a failed request back to the queue, so that it can be returned for processed later again by another call to
<a href="/apify-ts/docs/api/request-queue#fetchnextrequest"><code>RequestQueue.fetchNextRequest()</code></a>. The request record in the queue is updated using the provided <code>request</code>
parameter. For example, this lets you store the number of retries or error messages for the request.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>request</code></strong>: <a href="/apify-ts/docs/api/request"><code>Request</code></a></li><li><strong><code>[options]</code></strong>: <code>object</code> - <strong><code>[forefront]</code></strong>: <code>boolean</code> <code> = false</code> - If <code>true</code> then the request it placed to the beginning of the
queue, so that it&#x27;s returned in the next call to <a href="/apify-ts/docs/api/request-queue#fetchnextrequest"><code>RequestQueue.fetchNextRequest()</code></a>. By default, it&#x27;s put
to the end of the queue.</li></ul><p><strong>Returns</strong>:</p><p><a href="/apify-ts/docs/typedefs/queue-operation-info"><code>Promise&lt;QueueOperationInfo&gt;</code></a></p><hr><a name="isempty"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueueisempty"><code>requestQueue.isEmpty()</code><a aria-hidden="true" class="hash-link" href="#requestqueueisempty" title="Direct link to heading">â€‹</a></h2><p>Resolves to <code>true</code> if the next call to <a href="/apify-ts/docs/api/request-queue#fetchnextrequest"><code>RequestQueue.fetchNextRequest()</code></a> would return <code>null</code>, otherwise it
resolves to <code>false</code>. Note that even if the queue is empty, there might be some pending requests currently being processed. If you need to ensure that
there is no activity in the queue, use <a href="/apify-ts/docs/api/request-queue#isfinished"><code>RequestQueue.isFinished()</code></a>.</p><p><strong>Returns</strong>:</p><p><code>Promise&lt;boolean&gt;</code></p><hr><a name="isfinished"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueueisfinished"><code>requestQueue.isFinished()</code><a aria-hidden="true" class="hash-link" href="#requestqueueisfinished" title="Direct link to heading">â€‹</a></h2><p>Resolves to <code>true</code> if all requests were already handled and there are no more left. Due to the nature of distributed storage used by the queue, the
function might occasionally return a false negative, but it will never return a false positive.</p><p><strong>Returns</strong>:</p><p><code>Promise&lt;boolean&gt;</code></p><hr><a name="drop"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuedrop"><code>requestQueue.drop()</code><a aria-hidden="true" class="hash-link" href="#requestqueuedrop" title="Direct link to heading">â€‹</a></h2><p>Removes the queue either from the Apify Cloud storage or from the local database, depending on the mode of operation.</p><p><strong>Returns</strong>:</p><p><code>Promise&lt;void&gt;</code></p><hr><a name="handledcount"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuehandledcount"><code>requestQueue.handledCount()</code><a aria-hidden="true" class="hash-link" href="#requestqueuehandledcount" title="Direct link to heading">â€‹</a></h2><p>Returns the number of handled requests.</p><p>This function is just a convenient shortcut for:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"> handledRequestCount </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">getInfo</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Returns</strong>:</p><p><code>Promise&lt;number&gt;</code></p><hr><a name="getinfo"></a><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requestqueuegetinfo"><code>requestQueue.getInfo()</code><a aria-hidden="true" class="hash-link" href="#requestqueuegetinfo" title="Direct link to heading">â€‹</a></h2><p>Returns an object containing general information about the request queue.</p><p>The function returns the same object as the Apify API Client&#x27;s <a href="https://docs.apify.com/api/apify-client-js/latest#ApifyClient-requestQueues" target="_blank" rel="noopener">getQueue</a>
function, which in turn calls the <a href="https://apify.com/docs/api/v2#/reference/request-queues/queue/get-request-queue" target="_blank" rel="noopener">Get request queue</a> API endpoint.</p><p><strong>Example:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#728fcb"><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  id</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;WkzbQMuFYuamGv3YF&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  name</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;my-queue&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  userId</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;wRsJZtadYvn4mBZmm&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  createdAt</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;2015-12-12T07:34:14.202Z&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  modifiedAt</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;2015-12-13T08:36:13.202Z&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  accessedAt</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;2015-12-14T08:36:13.202Z&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  totalRequestCount</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">25</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  handledRequestCount</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">5</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  pendingRequestCount</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">20</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>Returns</strong>:</p><p><a href="/apify-ts/docs/typedefs/request-queue-info"><code>Promise&lt;RequestQueueInfo&gt;</code></a></p><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-11-09T14:15:52.000Z">11/9/2021</time></b> by <b>Vlad Frangu</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/apify-ts/docs/api/request-list"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->RequestList</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/apify-ts/docs/api/pseudo-url"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PseudoUrl<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requestqueueaddrequestrequestlike-options" class="table-of-contents__link toc-highlight"><code>requestQueue.addRequest(requestLike, [options])</code></a></li><li><a href="#requestqueuegetrequestid" class="table-of-contents__link toc-highlight"><code>requestQueue.getRequest(id)</code></a></li><li><a href="#requestqueuefetchnextrequest" class="table-of-contents__link toc-highlight"><code>requestQueue.fetchNextRequest()</code></a></li><li><a href="#requestqueuemarkrequesthandledrequest" class="table-of-contents__link toc-highlight"><code>requestQueue.markRequestHandled(request)</code></a></li><li><a href="#requestqueuereclaimrequestrequest-options" class="table-of-contents__link toc-highlight"><code>requestQueue.reclaimRequest(request, [options])</code></a></li><li><a href="#requestqueueisempty" class="table-of-contents__link toc-highlight"><code>requestQueue.isEmpty()</code></a></li><li><a href="#requestqueueisfinished" class="table-of-contents__link toc-highlight"><code>requestQueue.isFinished()</code></a></li><li><a href="#requestqueuedrop" class="table-of-contents__link toc-highlight"><code>requestQueue.drop()</code></a></li><li><a href="#requestqueuehandledcount" class="table-of-contents__link toc-highlight"><code>requestQueue.handledCount()</code></a></li><li><a href="#requestqueuegetinfo" class="table-of-contents__link toc-highlight"><code>requestQueue.getInfo()</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/api/apify">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/apifytech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://apify.com" target="_blank" class="footer__link-item">
        <span>
            Apify Cloud
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" class="footer__link-item">
        <span>
            Docusaurus
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://github.com/apify/apify-js" target="_blank" class="footer__link-item">
        <span>
            GitHub
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_SRtH" href="/apify-ts/"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Apify Technologies s.r.o.</div></div></div></footer></div>
<script src="/apify-ts/assets/js/runtime~main.7abe1652.js"></script>
<script src="/apify-ts/assets/js/main.0a673543.js"></script>
</body>
</html>