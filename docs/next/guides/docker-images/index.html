<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="search" type="application/opensearchdescription+xml" title="Apify SDK" href="/apify-ts/opensearch.xml">
<script src="/apify-ts/js/custom.js"></script><title data-rh="true">Running in Docker | Apify SDK</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-rh="true" name="twitter:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-rh="true" property="og:url" content="https://apify.github.io/apify-ts/docs/next/guides/docker-images"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running in Docker | Apify SDK"><meta data-rh="true" name="description" content="Running headless browsers in Docker requires a lot of setup to do it right. But you don&#x27;t need to worry about that, because we already did it for you and created base images that you can freely use. We use them every day on the Apify Platform."><meta data-rh="true" property="og:description" content="Running headless browsers in Docker requires a lot of setup to do it right. But you don&#x27;t need to worry about that, because we already did it for you and created base images that you can freely use. We use them every day on the Apify Platform."><link data-rh="true" rel="icon" href="/apify-ts/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://apify.github.io/apify-ts/docs/next/guides/docker-images"><link data-rh="true" rel="alternate" href="https://apify.github.io/apify-ts/docs/next/guides/docker-images" hreflang="en"><link data-rh="true" rel="alternate" href="https://apify.github.io/apify-ts/docs/next/guides/docker-images" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N8EOCSBQGH-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/apify-ts/assets/css/styles.71c1b7b3.css">
<link rel="preload" href="/apify-ts/assets/js/runtime~main.45a07a2a.js" as="script">
<link rel="preload" href="/apify-ts/assets/js/main.32f8b69e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_aKYr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/apify-ts/"><div class="navbar__logo"><img src="/apify-ts/img/apify_sdk.svg" alt="Apify SDK" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/apify-ts/img/apify_sdk_white.svg" alt="Apify SDK" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Apify SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/apify-ts/docs/">Guide</a><a class="navbar__item navbar__link" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a><a class="navbar__item navbar__link" href="/apify-ts/api">API reference</a><a href="https://github.com/apify/apify-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link changelog"><span>Changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/apify-ts/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/apify-ts/docs/next/guides/docker-images">Next</a></li><li><a class="dropdown__link" href="/apify-ts/docs/guides/docker-images">2.0.6</a></li></ul></div><a href="https://github.com/apify/apify-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="36" height="36" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="36" height="36" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/apify-ts/"><img src="/apify-ts/img/apify_sdk.svg" alt="Apify SDK" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/apify-ts/img/apify_sdk_white.svg" alt="Apify SDK" class="themedImage_W2Cr themedImage--dark_oUvU"><b>Apify SDK</b></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/apify-ts/docs/next/">Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/">Motivation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/apify-platform">Apify Platform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/request-storage">Request Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/result-storage">Result Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/environment-variables">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/proxy-management">Proxy Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/session-management">Session Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/type-script-actor">TypeScript Actors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/apify-ts/docs/next/guides/docker-images">Running in Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/docs/next/guides/migration-to-v1">Migration to version 1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/apify-ts/docs/next/examples/basics/accept-user-input">Examples</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Apify SDK<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/apify-ts/docs/guides/docker-images">latest version</a></b> (<!-- -->2.0.6<!-- -->).</div></div><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/apify-ts/">🏠</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">Guide</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/apify-ts/docs/next/guides/docker-images">Running in Docker</a></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running in Docker</h1></header><p>Running headless browsers in Docker requires a lot of setup to do it right. But you don&#x27;t need to worry about that, because we already did it for you and created base images that you can freely use. We use them every day on the <a href="/apify-ts/docs/next/guides/apify-platform">Apify Platform</a>.</p><p>All images can be found in their <a href="https://github.com/apify/apify-actor-docker" target="_blank" rel="noopener">GitHub repo</a> and in our <a href="https://hub.docker.com/orgs/apify" target="_blank" rel="noopener">DockerHub</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>Browsers are pretty big, so we try to provide a wide variety of images to suit your needs. Here&#x27;s a full list of our Docker images.</p><ul><li><a href="#actor-node"><code>apify/actor-node</code></a></li><li><a href="#actor-node-puppeteer-chrome"><code>apify/actor-node-puppeteer-chrome</code></a></li><li><a href="#actor-node-playwright"><code>apify/actor-node-playwright</code></a></li><li><a href="#actor-node-playwright-chrome"><code>apify/actor-node-playwright-chrome</code></a></li><li><a href="#actor-node-playwright-firefox"><code>apify/actor-node-playwright-firefox</code></a></li><li><a href="#actor-node-playwright-webkit"><code>apify/actor-node-playwright-webkit</code></a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="example-dockerfile">Example Dockerfile<a class="hash-link" href="#example-dockerfile" title="Direct link to heading">​</a></h2><p>To use our images, you need a <a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener"><code>Dockerfile</code></a>. You can either use this example, or bootstrap your projects with the <a href="/apify-ts/docs/next/guides/getting-started#creating-a-new-project">Apify CLI</a> which automatically copies the correct Dockerfile into your project folder.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># First, specify the base Docker image. You can read more about</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the available images at https://sdk.apify.com/docs/guides/docker-images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># You can also use any other image from Docker Hub.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The 16 represents the version of Node.js you want to use.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Second, copy just package.json and package-lock.json since it should be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># the only file that affects &quot;npm install&quot; in the next step, to speed up the build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY package*.json ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install NPM packages, skip optional and development dependencies to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># keep the image small. Avoid logging too much and print the dependency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># tree for debugging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN npm --quiet set progress=false \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; npm install --only=prod --no-optional \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; echo &quot;Installed NPM packages:&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; (npm list || true) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; echo &quot;Node.js version:&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; node --version \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; echo &quot;NPM version:&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &amp;&amp; npm --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Next, copy the remaining files and directories with the source code.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Since we do this after NPM install, quick build will be really fast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># for most source file changes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY . ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Optionally, specify how to launch the source code of your actor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># By default, Apify&#x27;s base Docker images define the CMD instruction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># that runs the Node.js source code using the command specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># in the &quot;scripts.start&quot; section of the package.json file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># In short, the instruction looks something like this:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CMD npm start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="versioning">Versioning<a class="hash-link" href="#versioning" title="Direct link to heading">​</a></h2><p>Each image is tagged with up to 2 version tags, depending on the type of the image. One for Node.js version and second for pre-installed web automation library version. If you use the image name without a version tag, you&#x27;ll always get the latest available version.</p><blockquote><p>We recommend always using at least the Node.js version tag in your production Dockerfiles. It will ensure that a future update of Node.js will not break your automations.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="nodejs-versioning">Node.js versioning<a class="hash-link" href="#nodejs-versioning" title="Direct link to heading">​</a></h3><p>Our images are built with multiple Node.js versions to ensure backwards compatibility. Currently, Node.js versions 14, 15 and 16 are supported. To select the preferred version, use the appropriate number as the image tag.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># Use Node.js 14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Use Node.js 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="automation-library-versioning">Automation library versioning<a class="hash-link" href="#automation-library-versioning" title="Direct link to heading">​</a></h3><p>Images that include a pre-installed automation library, which means all images that include <code>puppeteer</code> or <code>playwright</code> in their name,  are also tagged with the pre-installed version of the library. For example, <code>apify/actor-node-puppeteer-chrome:16-8.0.0</code> comes with Node.js 16 and Puppeteer v8.0.0. If you try to install a different version of Puppeteer into this image, you may run into compatibility issues, because the Chromium version bundled with <code>puppeteer</code> will not match the version of Chrome we pre-installed.</p><p>Similarly <code>apify/actor-node-playwright-firefox:14-1.10.0</code> runs on Node.js 14 and is pre-installed with the Firefox version that comes with v1.10.0.</p><p>Installing <code>apify/actor-node-puppeteer-chrome</code> (without a tag) will install the latest available version of Node.js and <code>puppeteer</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="pre-release-tags">Pre-release tags<a class="hash-link" href="#pre-release-tags" title="Direct link to heading">​</a></h3><p>We also build pre-release versions of the images to test the changes we make. Those are typically denoted by a <code>beta</code> suffix, but it can vary depending on our needs. If you need to try a pre-release version, you can do it like this:</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"># Without library version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:16-beta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># With library version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-chrome:16-1.10.0-beta</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="best-practices">Best practices<a class="hash-link" href="#best-practices" title="Direct link to heading">​</a></h2><ul><li><strong>Always</strong> use Node.js version tag.</li><li>For <strong>added security</strong>, use the automation library version tag.</li><li>Use asterisk <code>*</code> as the automation library version in your <code>package.json</code> files.</li></ul><p>It makes sure the pre-installed version of Puppeteer or Playwright is not reinstalled on build. This is important, because those libraries are only guaranteed to work with specific versions of browsers, and those browsers come pre-installed in the image.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-chrome:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;apify&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;playwright&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="warning-about-image-size">Warning about image size<a class="hash-link" href="#warning-about-image-size" title="Direct link to heading">​</a></h3><p>Browsers are huge. If you don&#x27;t need them all in your image, it&#x27;s better to use a smaller image with only the one browser you need.</p><p>Be careful when installing new dependencies. Nothing prevents you from installing Playwright into the<code>actor-node-puppeteer-chrome</code> image, but the resulting image will be about 3 times larger and extremely slow to download and build.</p><p>Use only what you need, and you&#x27;ll be rewarded with reasonable build and start times.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="actor-node">actor-node<a class="hash-link" href="#actor-node" title="Direct link to heading">​</a></h2><p>This is the smallest image we have based on Alpine Linux. It does not include any browsers, and it&#x27;s therefore
best used with <a href="/apify-ts/docs/next/api/cheerio-crawler"><code>CheerioCrawler</code></a>. It benefits from lightning fast builds and container startups.</p><p><a href="/apify-ts/docs/next/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a>, <a href="/apify-ts/docs/next/api/playwright-crawler"><code>PlaywrightCrawler</code></a>
and other browser based features will <strong>NOT</strong> work with this image.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="actor-node-puppeteer-chrome">actor-node-puppeteer-chrome<a class="hash-link" href="#actor-node-puppeteer-chrome" title="Direct link to heading">​</a></h2><p>This image includes Puppeteer (Chromium) and the Chrome browser. It can be used with
<a href="/apify-ts/docs/next/api/cheerio-crawler"><code>CheerioCrawler</code></a> and <a href="/apify-ts/docs/next/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a>, but <strong>NOT</strong> with
<a href="/apify-ts/docs/next/api/playwright-crawler"><code>PlaywrightCrawler</code></a>.</p><p>The image supports XVFB by default, so you can run both <code>headless</code> and <code>headful</code> browsers with it.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-puppeteer-chrome:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="actor-node-playwright">actor-node-playwright<a class="hash-link" href="#actor-node-playwright" title="Direct link to heading">​</a></h2><p>A very large and slow image that can run all Playwright browsers: Chromium, Chrome, Firefox,
WebKit. Everything is installed. If you need to develop or test with multiple browsers, this is the image to choose,
but in most cases, we suggest using the specialized images below.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="actor-node-playwright-chrome">actor-node-playwright-chrome<a class="hash-link" href="#actor-node-playwright-chrome" title="Direct link to heading">​</a></h2><p>Similar to <a href="#actor-node-puppeteer-chrome"><code>actor-node-puppeteer-chrome</code></a>, but for Playwright. You can run
<a href="/apify-ts/docs/next/api/cheerio-crawler"><code>CheerioCrawler</code></a> and <a href="/apify-ts/docs/next/api/playwright-crawler"><code>PlaywrightCrawler</code></a>,
but <strong>NOT</strong> <a href="/apify-ts/docs/next/api/puppeteer-crawler"><code>PuppeteerCrawler</code></a>.</p><p>It uses the <a href="https://playwright.dev/docs/api/environment-variables/" target="_blank" rel="noopener"><code>PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD</code></a>
environment variable to block installation of more browsers into your images (to keep them small).
If you want more browsers, either choose the <a href="#actor-node-playwright"><code>actor-node-playwright</code></a> image
or override this env var.</p><p>The image supports XVFB by default, so you can run both <code>headless</code> and <code>headful</code> browsers with it.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-chrome:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="actor-node-playwright-firefox">actor-node-playwright-firefox<a class="hash-link" href="#actor-node-playwright-firefox" title="Direct link to heading">​</a></h2><p>Same idea as <a href="#actor-node-playwright-chrome"><code>actor-node-playwright-chrome</code></a>, but with Firefox
pre-installed.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-firefox:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="actor-node-playwright-webkit">actor-node-playwright-webkit<a class="hash-link" href="#actor-node-playwright-webkit" title="Direct link to heading">​</a></h2><p>Same idea as <a href="#actor-node-playwright-chrome"><code>actor-node-playwright-chrome</code></a>, but with WebKit
pre-installed.</p><div class="codeBlockContainer_I0IT language-dockerfile theme-code-block"><div class="codeBlockContent_wNvx dockerfile"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">FROM apify/actor-node-playwright-webkit:16</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-03-08T16:53:06.000Z">3/8/2022</time></b> by <b>Martin Adámek</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/apify-ts/docs/next/guides/type-script-actor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TypeScript Actors</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/apify-ts/docs/next/guides/migration-to-v1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migration to version 1</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#example-dockerfile" class="table-of-contents__link toc-highlight">Example Dockerfile</a></li><li><a href="#versioning" class="table-of-contents__link toc-highlight">Versioning</a><ul><li><a href="#nodejs-versioning" class="table-of-contents__link toc-highlight">Node.js versioning</a></li><li><a href="#automation-library-versioning" class="table-of-contents__link toc-highlight">Automation library versioning</a></li><li><a href="#pre-release-tags" class="table-of-contents__link toc-highlight">Pre-release tags</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best practices</a><ul><li><a href="#warning-about-image-size" class="table-of-contents__link toc-highlight">Warning about image size</a></li></ul></li><li><a href="#actor-node" class="table-of-contents__link toc-highlight">actor-node</a></li><li><a href="#actor-node-puppeteer-chrome" class="table-of-contents__link toc-highlight">actor-node-puppeteer-chrome</a></li><li><a href="#actor-node-playwright" class="table-of-contents__link toc-highlight">actor-node-playwright</a></li><li><a href="#actor-node-playwright-chrome" class="table-of-contents__link toc-highlight">actor-node-playwright-chrome</a></li><li><a href="#actor-node-playwright-firefox" class="table-of-contents__link toc-highlight">actor-node-playwright-firefox</a></li><li><a href="#actor-node-playwright-webkit" class="table-of-contents__link toc-highlight">actor-node-playwright-webkit</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/api/apify">API reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/apifytech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://apify.com" target="_blank" class="footer__link-item">
        <span>
            Apify Platform
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" class="footer__link-item">
        <span>
            Docusaurus
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://github.com/apify/apify-js" target="_blank" class="footer__link-item">
        <span>
            GitHub
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_RC3H" href="/apify-ts/"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_W2Cr themedImage--light_TfLj footer__logo" width="60px" height="60px"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo" width="60px" height="60px"></a></div><div class="footer__copyright">Copyright © 2021 Apify Technologies s.r.o.</div></div></div></footer></div>
<script src="/apify-ts/assets/js/runtime~main.45a07a2a.js"></script>
<script src="/apify-ts/assets/js/main.32f8b69e.js"></script>
</body>
</html>