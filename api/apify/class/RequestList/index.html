<!doctype html>
<html class="api-version-2.0.6" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="Apify SDK" href="/apify-ts/opensearch.xml">
<script src="/apify-ts/js/custom.js"></script><title data-react-helmet="true">RequestList | API | Apify SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-react-helmet="true" name="twitter:image" content="https://apify.github.io/apify-ts/img/apify_og_SDK.png"><meta data-react-helmet="true" property="og:url" content="https://apify.github.io/apify-ts/api/apify/class/RequestList"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="2.0.6"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-2.0.6"><meta data-react-helmet="true" property="og:title" content="RequestList | API | Apify SDK"><meta data-react-helmet="true" name="description" content="Represents a static list of URLs to crawl.
The URLs can be provided either in code or parsed from a text file hosted on the web.
`RequestList` is used by {@link BasicCrawler}, {@link CheerioCrawler}, {@link PuppeteerCrawler}
and {@link PlaywrightCrawler} as a source of URLs to crawl."><meta data-react-helmet="true" property="og:description" content="Represents a static list of URLs to crawl.
The URLs can be provided either in code or parsed from a text file hosted on the web.
`RequestList` is used by {@link BasicCrawler}, {@link CheerioCrawler}, {@link PuppeteerCrawler}
and {@link PlaywrightCrawler} as a source of URLs to crawl."><link data-react-helmet="true" rel="icon" href="/apify-ts/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://apify.github.io/apify-ts/api/apify/class/RequestList"><link data-react-helmet="true" rel="alternate" href="https://apify.github.io/apify-ts/api/apify/class/RequestList" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://apify.github.io/apify-ts/api/apify/class/RequestList" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/apify-ts/assets/css/styles.eadd290e.css">
<link rel="preload" href="/apify-ts/assets/js/runtime~main.94f51048.js" as="script">
<link rel="preload" href="/apify-ts/assets/js/main.c14d2920.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/apify-ts/"><div class="navbar__logo"><img src="/apify-ts/img/apify_sdk.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/apify-ts/img/apify_sdk_white.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Apify SDK</b></a><a class="navbar__item navbar__link" href="/apify-ts/docs/">Guide</a><a class="navbar__item navbar__link" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/apify-ts/api">API reference</a><a href="https://github.com/apify/apify-js/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link changelog"><span>Changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/apify-ts/docs/">2.0.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/apify-ts/docs/next/">Next</a></li><li><a class="dropdown__link" href="/apify-ts/docs/">2.0.6</a></li></ul></div><a href="https://github.com/apify/apify-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/apify-ts/"><img src="/apify-ts/img/apify_sdk.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/apify-ts/img/apify_sdk_white.svg" alt="Apify SDK" class="themedImage_TMUO themedImage--dark_uzRr"><b>Apify SDK</b></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/apify-ts/api/apify">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/apify-ts/api/apify/class/Apify">Classes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Apify">Apify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/ApifyCallError">ApifyCallError</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/AutoscaledPool">AutoscaledPool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/BasicCrawler">BasicCrawler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/BrowserCrawler">BrowserCrawler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/CheerioCrawler">CheerioCrawler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Dataset">Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/KeyValueStore">KeyValueStore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/PlaywrightCrawler">PlaywrightCrawler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/ProxyConfiguration">ProxyConfiguration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/PseudoUrl">PseudoUrl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/PuppeteerCrawler">PuppeteerCrawler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Request">Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/apify-ts/api/apify/class/RequestList">RequestList</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/RequestQueue">RequestQueue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Session">Session</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/SessionPool">SessionPool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Snapshotter">Snapshotter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/Statistics">Statistics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/apify-ts/api/apify/class/SystemStatus">SystemStatus</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/api/apify/function/addWebhook">Functions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/api/apify/interface/ActorRun">Interfaces</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/api/apify/namespace/utils">Namespaces</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/api/apify#BrowserHandlePageFunction">Type aliases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/apify-ts/api/apify#events">Variables</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col apiItemCol"><div class="apiItemContainer"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.0.6</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile apiTocMobile"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RequestList<!-- --> </h1></header><div class="tsd-comment tsd-typography tsd-comment-root"><div class="lead"><div class="tsd-markdown markdown"><p>Represents a static list of URLs to crawl.
The URLs can be provided either in code or parsed from a text file hosted on the web.
<code>RequestList</code> is used by <a href="/apify-ts/api/apify/class/BasicCrawler">BasicCrawler</a>, <a href="/apify-ts/api/apify/class/CheerioCrawler">CheerioCrawler</a>, <a href="/apify-ts/api/apify/class/PuppeteerCrawler">PuppeteerCrawler</a>
and <a href="/apify-ts/api/apify/class/PlaywrightCrawler">PlaywrightCrawler</a> as a source of URLs to crawl.</p></div></div><div class="tsd-markdown markdown"><p>Each URL is represented using an instance of the <a href="/apify-ts/api/apify/class/Request">Request</a> class.
The list can only contain unique URLs. More precisely, it can only contain <code>Request</code> instances
with distinct <code>uniqueKey</code> properties. By default, <code>uniqueKey</code> is generated from the URL, but it can also be overridden.
To add a single URL to the list multiple times, corresponding <a href="/apify-ts/api/apify/class/Request">Request</a> objects will need to have different
<code>uniqueKey</code> properties. You can use the <code>keepDuplicateUrls</code> option to do this for you when initializing the
<code>RequestList</code> from sources.</p>

<p>Once you create an instance of <code>RequestList</code>, you need to call the <a href="/apify-ts/api/apify/class/RequestList#initialize">RequestList.initialize</a> function
before the instance can be used. After that, no more URLs can be added to the list.
Unlike <a href="/apify-ts/api/apify/class/RequestQueue">RequestQueue</a>, <code>RequestList</code> is static but it can contain even millions of URLs.</p><blockquote><p>Note that <code>RequestList</code> can be used together with <code>RequestQueue</code> by the same crawler.
In such cases, each request from <code>RequestList</code> is enqueued into <code>RequestQueue</code> first and then consumed from the latter.
This is necessary to avoid the same URL being processed more than once (from the list first and then possibly from the queue).
In practical terms, such a combination can be useful when there is a large number of initial URLs,
but more URLs would be added dynamically by the crawler.</p></blockquote><p><code>RequestList</code> has an internal state where it stores information about which requests were already handled,
which are in progress and which were reclaimed. The state may be automatically persisted to the default
<a href="/apify-ts/api/apify/class/KeyValueStore">KeyValueStore</a> by setting the <code>persistStateKey</code> option so that if the Node.js process is restarted,
the crawling can continue where it left off. The automated persisting is launched upon receiving the <code>persistState</code>
event that is periodically emitted by <a href="/apify-ts/api/apify#events">Apify.events</a>.</p>

<p>The internal state is closely tied to the provided sources (URLs). If the sources change on actor restart, the state will become corrupted and
<code>RequestList</code> will raise an exception. This typically happens when the sources is a list of URLs downloaded from the web.
In such case, use the <code>persistRequestsKey</code> option in conjunction with <code>persistStateKey</code>,
to make the <code>RequestList</code> store the initial sources to the default key-value store and load them after restart,
which will prevent any issues that a live list of URLs might cause.</p>

<p><strong>Basic usage:</strong></p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Use a helper function to simplify request list initialization.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// State and sources are automatically persisted. This is a preferred usage.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requestList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openRequestList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-request-list&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com/page-1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com/page-2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;POST&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> requestsFromUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com/my-url-list.txt&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> isFromUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div>

<p><strong>Advanced usage:</strong></p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Use the constructor to get more control over the initialization.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requestList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Apify</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">RequestList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sources</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Separate requests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com/page-1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GET&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com/page-2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Bulk load of URLs from file `http://www.example.com/my-url-list.txt`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Note that all URLs must start with http:// or https://</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> requestsFromUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com/my-url-list.txt&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> userData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> isFromUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Persist the state to avoid re-crawling which can lead to data duplications.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Keep in mind that the sources have to be immutable or this will throw an error.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    persistStateKey</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-state&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> requestList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">initialize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><section class="tsd-panel-group tsd-index-group"><h2>Index <a class="tsd-anchor" href="#Index" id="Index"><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section"><h3 class="tsd-panel-header">Constructors</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a href="#constructor" class="tsd-kind-icon"><i class="codicon codicon-symbol-constructor" style="color:var(--ifm-color-info)"></i>constructor</a></li></ul></div></section><section class="tsd-index-section"><h3 class="tsd-panel-header">Methods</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a href="#fetchNextRequest" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>fetchNextRequest</a></li><li><a href="#getState" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>getState</a></li><li><a href="#handledCount" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>handledCount</a></li><li><a href="#initialize" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>initialize</a></li><li><a href="#isEmpty" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>isEmpty</a></li><li><a href="#isFinished" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>isFinished</a></li><li><a href="#length" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>length</a></li><li><a href="#markRequestHandled" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>markRequestHandled</a></li><li><a href="#persistState" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>persistState</a></li><li><a href="#reclaimRequest" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>reclaimRequest</a></li><li><a href="#open" class="tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>open</a></li></ul></div></section></div></section></section><section class="tsd-panel-group tsd-member-group"><h2>Constructors<!-- --> <a class="tsd-anchor" href="#Constructors" id="Constructors"><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#constructor" id="constructor"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L284" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>constructor</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>new RequestList<span class="tsd-signature-symbol">(</span><span>options<span class="tsd-signature-symbol">?<!-- -->: </span><a class="tsd-signature-type" data-tsd-kind="Interface" href="/apify-ts/api/apify/interface/RequestListOptions">RequestListOptions</a></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="Class" href="/apify-ts/api/apify/class/RequestList">RequestList</a></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <a class="tsd-signature-type" data-tsd-kind="Interface" href="/apify-ts/api/apify/interface/RequestListOptions">RequestListOptions</a><span class="tsd-signature-symbol"> = <!-- -->{}</span></h5><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>All <code>RequestList</code> configuration options</p></div></div></div></li></ul><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type" data-tsd-kind="Class" href="/apify-ts/api/apify/class/RequestList">RequestList</a></h4></li></ul></div></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods<!-- --> <a class="tsd-anchor" href="#Methods" id="Methods"><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#fetchNextRequest" id="fetchNextRequest"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L596" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>fetchNextRequest</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>fetchNextRequest<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type" data-tsd-kind="Class" href="/apify-ts/api/apify/class/Request">Request</a><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Gets the next <a href="/apify-ts/api/apify/class/Request">Request</a> to process. First, the function gets a request previously reclaimed
using the <a href="/apify-ts/api/apify/class/RequestList#reclaimRequest">RequestList.reclaimRequest</a> function, if there is any.
Otherwise it gets the next request from sources.</p></div></div><div class="tsd-markdown markdown"><p>The functionâ€™s <code>Promise</code> resolves to <code>null</code> if there are no more
requests to process.</p></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a class="tsd-signature-type" data-tsd-kind="Class" href="/apify-ts/api/apify/class/Request">Request</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#getState" id="getState"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L554" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>getState</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>getState<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><span>inProgress<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">; </span><span>nextIndex<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></span><span class="tsd-signature-symbol">; </span><span>nextUniqueKey<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol"> }</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns an object representing the internal state of the <code>RequestList</code> instance.
Note that the objectâ€™s fields can change in future releases.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><span>inProgress<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">; </span><span>nextIndex<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></span><span class="tsd-signature-symbol">; </span><span>nextUniqueKey<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol"> }</span></h4><div class="tsd-markdown markdown"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5>inProgress<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li class="tsd-parameter"><h5>nextIndex<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5>nextUniqueKey<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h5></li></ul></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#handledCount" id="handledCount"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L832" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>handledCount</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>handledCount<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns number of handled requests.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#initialize" id="initialize"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L328" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>initialize</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>initialize<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Loads all remote sources of URLs and potentially starts periodic state persistence.
This function must be called before you can start using the instance in a meaningful way.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#isEmpty" id="isEmpty"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L571" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>isEmpty</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>isEmpty<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Resolves to <code>true</code> if the next call to <a href="/apify-ts/api/apify/class/RequestList#fetchNextRequest">RequestList.fetchNextRequest</a> function
would return <code>null</code>, otherwise it resolves to <code>false</code>.
Note that even if the list is empty, there might be some pending requests currently being processed.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#isFinished" id="isFinished"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L582" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>isFinished</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>isFinished<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns <code>true</code> if all requests were already handled and there are no more left.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#length" id="length"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L821" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>length</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>length<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns the total number of unique requests present in the <code>RequestList</code>.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#markRequestHandled" id="markRequestHandled"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L625" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>markRequestHandled</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>markRequestHandled<span class="tsd-signature-symbol">(</span><span>request<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Marks request as handled after successful processing.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>request: <span class="tsd-signature-type">any</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#persistState" id="persistState"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L430" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>persistState</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>persistState<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Persists the current state of the <code>RequestList</code> into the default <a href="/apify-ts/api/apify/class/KeyValueStore">KeyValueStore</a>.
The state is persisted automatically in regular intervals, but calling this method manually
is useful in cases where you want to have the most current state available after you pause
or stop fetching its requests. For example after you pause or abort a crawl. Or just before
a server migration.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#reclaimRequest" id="reclaimRequest"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L643" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>reclaimRequest</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>reclaimRequest<span class="tsd-signature-symbol">(</span><span>request<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Reclaims request to the list if its processing failed.
The request will become available in the next <code>this.fetchNextRequest()</code>.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>request: <span class="tsd-signature-type">any</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-markdown markdown"></div></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#open" id="open"><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/apify-ts/blob/master/packages/apify/src/request_list.ts#L891" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a><span class="tsd-flag tsd-flag-static">static</span>open</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>open<span class="tsd-signature-symbol">(</span><span>listName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>sources<span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="Type alias" href="/apify-ts/api/apify#Source">Source</a><span class="tsd-signature-symbol">[]</span></span><span class="tsd-signature-symbol">, </span><span>options<span class="tsd-signature-symbol">?<!-- -->: </span><a class="tsd-signature-type" data-tsd-kind="Interface" href="/apify-ts/api/apify/interface/RequestListOptions">RequestListOptions</a></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type" data-tsd-kind="Class" href="/apify-ts/api/apify/class/RequestList">RequestList</a><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Opens a request list and returns a promise resolving to an instance
of the <a href="/apify-ts/api/apify/class/RequestList">RequestList</a> class that is already initialized.</p></div></div><div class="tsd-markdown markdown"><p><a href="/apify-ts/api/apify/class/RequestList">RequestList</a> represents a list of URLs to crawl, which is always stored in memory.
To enable picking up where left off after a process restart, the request list sources
are persisted to the key-value store at initialization of the list. Then, while crawling,
a small state object is regularly persisted to keep track of the crawling status.</p>

<p>For more details and code examples, see the <a href="/apify-ts/api/apify/class/RequestList">RequestList</a> class.</p>

<p><strong>Example usage:</strong></p>

<div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;https://www.example.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;https://www.google.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;https://www.bing.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requestList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openRequestList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sources</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>listName: <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>  Name of the request list to be opened. Setting a name enables the <code>RequestList</code>â€˜s state to be persisted
  in the key-value store. This is useful in case of a restart or migration. Since <code>RequestList</code> is only
  stored in memory, a restart or migration wipes it clean. Setting a name will enable the <code>RequestList</code>â€˜s
  state to survive those situations and continue where it left off.</p>

<p>  The name will be used as a prefix in key-value store, producing keys such as <code>NAME-REQUEST_LIST_STATE</code>
  and <code>NAME-REQUEST_LIST_SOURCES</code>.</p>

<p>  If <code>null</code>, the list will not be persisted and will only be stored in memory. Process restart
  will then cause the list to be crawled again from the beginning. We suggest always using a name.</p></div></div></div></li><li><h5>sources: <a class="tsd-signature-type" data-tsd-kind="Type alias" href="/apify-ts/api/apify#Source">Source</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p> An array of sources of URLs for the <a href="/apify-ts/api/apify/class/RequestList">RequestList</a>. It can be either an array of strings,
 plain objects that define at least the <code>url</code> property, or an array of <a href="/apify-ts/api/apify/class/Request">Request</a> instances.</p>

<p> <strong>IMPORTANT:</strong> The <code>sources</code> array will be consumed (left empty) after <a href="/apify-ts/api/apify/class/RequestList">RequestList</a> initializes.
 This is a measure to prevent memory leaks in situations when millions of sources are
 added.</p>

<p> Additionally, the <code>requestsFromUrl</code> property may be used instead of <code>url</code>,
 which will instruct <a href="/apify-ts/api/apify/class/RequestList">RequestList</a> to download the source URLs from a given remote location.
 The URLs will be parsed from the received response. In this case you can limit the URLs
 using <code>regex</code> parameter containing regular expression pattern for URLs to be included.</p>

<p> For details, see the <a href="/apify-ts/api/apify/interface/RequestListOptions#sources">RequestListOptions.sources</a></p></div></div></div></li><li><h5>options: <a class="tsd-signature-type" data-tsd-kind="Interface" href="/apify-ts/api/apify/interface/RequestListOptions">RequestListOptions</a><span class="tsd-signature-symbol"> = <!-- -->{}</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type" data-tsd-kind="Class" href="/apify-ts/api/apify/class/RequestList">RequestList</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></div></section></section></div><footer class="tsd-footer">Powered by<!-- --> <a href="https://github.com/milesj/docusaurus-plugin-typedoc-api">docusaurus-plugin-typedoc-api</a> <!-- -->and <a href="https://typedoc.org/">TypeDoc</a></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#constructor" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-constructor" style="color:var(--ifm-color-info);"></i> constructor</a></li><li><a href="#fetchNextRequest" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> fetchNextRequest</a></li><li><a href="#getState" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> getState</a></li><li><a href="#handledCount" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> handledCount</a></li><li><a href="#initialize" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> initialize</a></li><li><a href="#isEmpty" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> isEmpty</a></li><li><a href="#isFinished" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> isFinished</a></li><li><a href="#length" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> length</a></li><li><a href="#markRequestHandled" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> markRequestHandled</a></li><li><a href="#persistState" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> persistState</a></li><li><a href="#reclaimRequest" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> reclaimRequest</a></li><li><a href="#open" class="table-of-contents__link toc-highlight"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> open</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/examples/crawl-multiple-urls">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/apify-ts/docs/api/apify">API reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/apifytech" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://apify.com" target="_blank" class="footer__link-item">
        <span>
            Apify Cloud
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" class="footer__link-item">
        <span>
            Docusaurus
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li><li class="footer__item"><a href="https://github.com/apify/apify-js" target="_blank" class="footer__link-item">
        <span>
            GitHub
            <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" style="margin-left: 0.3rem; position: relative; top: 1px;">
                <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                </path>
            </svg>
        </span>
    </a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_SRtH" href="/apify-ts/"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo" width="60px" height="60px"><img src="/apify-ts/img/apify_logo.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo" width="60px" height="60px"></a></div><div class="footer__copyright">Copyright Â© 2021 Apify Technologies s.r.o.</div></div></div></footer></div>
<script src="/apify-ts/assets/js/runtime~main.94f51048.js"></script>
<script src="/apify-ts/assets/js/main.c14d2920.js"></script>
</body>
</html>